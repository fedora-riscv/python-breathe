From a0587f035202e4f6b4eb02ad5a2f33ce93bd0f25 Mon Sep 17 00:00:00 2001
From: Victor Zverovich <victor.zverovich@gmail.com>
Date: Fri, 29 Apr 2016 08:13:44 -0700
Subject: [PATCH] Fix compatibility with Python 3

---
 breathe/renderer/filter.py | 2 +-
 breathe/renderer/mask.py   | 4 +++-
 breathe/renderer/target.py | 2 +-
 3 files changed, 5 insertions(+), 3 deletions(-)

diff --git a/breathe/renderer/filter.py b/breathe/renderer/filter.py
index d04a94f..e26a2e8 100644
--- a/breathe/renderer/filter.py
+++ b/breathe/renderer/filter.py
@@ -673,7 +673,7 @@ def create_innerclass_filter(self, options, outerclass=''):
             'private-members': 'private',
             }
 
-        for option, scope in all_options.iteritems():
+        for option, scope in all_options.items():
             if option in options:
                 allowed.add(scope)
 
diff --git a/breathe/renderer/mask.py b/breathe/renderer/mask.py
index 254fa10..ed6a17c 100644
--- a/breathe/renderer/mask.py
+++ b/breathe/renderer/mask.py
@@ -18,6 +18,8 @@
 
 """
 
+import six
+
 class NoParameterNamesMask(object):
 
     def __init__(self, data_object):
@@ -43,7 +45,7 @@ def mask(self, data_object):
 
             # Horrible hack to silence errors on filtering unicode objects
             # until we fix the parsing
-            if type(data_object) == unicode:
+            if isinstance(data_object, six.text_type):
                 node_type = "unicode"
             else:
                 raise e
diff --git a/breathe/renderer/target.py b/breathe/renderer/target.py
index 754f260..1709839 100644
--- a/breathe/renderer/target.py
+++ b/breathe/renderer/target.py
@@ -33,7 +33,7 @@ def __init__(self, node_factory):
 
     def create_target_handler(self, options, project_info, document):
 
-        if options.has_key("no-link"):
+        if "no-link" in options:
             return NullTargetHandler()
 
         return TargetHandler(project_info, self.node_factory, document)
